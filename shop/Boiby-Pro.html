<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boiby Studio - Purchase</title>
  <style>
    :root{
  --blue:#0071e3;
  --border:#d2d2d7;
  --text:#1d1d1f;
  --muted:#6e6e73;
  --bg:#fff;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Header */
header{ text-align:center; padding:28px 16px; border-bottom:1px solid var(--border); }
h1{ font-size:1.9rem; margin:0; font-weight:700; }

/* Models (list of cards) */
.models{
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:20px;
  max-width:720px;
  margin:18px auto;
}
.card{
  border:1px solid var(--border);
  border-radius:14px;
  padding:18px;
  background:#fff;
  cursor:pointer;
  transition:box-shadow .12s,transform .08s,border-color .12s;
}
    /* --- Confirmation Screen --- */
.confirmation {
  display: none;
  text-align: center;
  padding: 40px 20px;
  animation: fadeIn 0.5s ease-in-out;
}

.confirmation-image img {
  max-width: 250px;
  margin-bottom: 20px;
}

.confirmation-title {
  font-size: 1.8em;
  font-weight: bold;
  margin-bottom: 10px;
}

.confirmation-model {
  font-size: 1.2em;
  margin-bottom: 20px;
  color: #555;
}

.confirmation-details {
  text-align: left;
  max-width: 400px;
  margin: 0 auto;
  background: #f7f7f8;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.confirmation-list {
  list-style: none;
  padding: 0;
  margin: 0 0 15px 0;
}

.confirmation-list li {
  margin-bottom: 8px;
  padding-left: 12px;
  border-left: 3px solid #0071e3;
}

.confirmation-total {
  font-size: 1.4em;
  font-weight: bold;
  text-align: right;
}

/* Fade-in animation */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}
.card:hover{ border-color:var(--blue); transform:translateY(-2px); }
.card h2{ margin:0 0 8px; font-size:1.25rem; font-weight:600; }
.price{ color:var(--muted); margin:6px 0 12px; font-weight:500; }
.card ul{ margin:0; padding-left:20px; color:var(--muted); }

/* Configurator container */
.configurator{ max-width:920px; margin:18px auto; padding:18px; }

/* Back button */
.back-btn{
  margin-bottom:16px;
  padding:8px 16px;
  border-radius:999px;
  border:none;
  background:#f5f5f7;
  cursor:pointer;
}
.back-btn:hover{ background:#e8e8eb; }

/* Hero */
.hero{ margin-bottom:18px; }
.hero-title{ font-size:clamp(1.6rem,4vw,2.4rem); margin:0 0 8px; font-weight:700; }
.hero-list{ list-style:none; padding:0; margin:0; color:var(--muted); }
.hero-list li{ margin:6px 0; font-size:1rem; line-height:1.6; }

/* Groups */
.group{ margin:20px 0; }
.group h3{ margin:0 0 10px; font-size:1.05rem; }

/* Pills (options) */
.pill{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:28px 20px;
  border:1px solid var(--border);
  border-radius:12px;
  margin:8px 0;
  background:#fff;
  cursor:pointer;
  transition:box-shadow .12s,border-color .12s,transform .06s;
  font-size:1.02rem;
}
.pill:hover{ border-color:var(--blue); transform:translateY(-2px); }
.pill.selected{ border:2px solid var(--blue); box-shadow:0 4px 14px rgba(0,113,227,0.08); }
.pill.disabled{ opacity:.6; cursor:not-allowed; background:#fbfbfb; }
.pill .label{ font-weight:600; }
.pill .price-right{ color:var(--muted); font-weight:600; white-space:nowrap; }

/* Notes */
.note{ color:var(--muted); font-size:.92rem; margin-top:6px; }

/* Checkout */
.checkout{
  position:sticky;
  bottom:0;
  left:0;
  width:100%;
  background:linear-gradient(#fff,#fff);
  border-top:1px solid var(--border);
  padding:18px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  z-index:40;
  box-shadow:0 -4px 10px rgba(0,0,0,0.04);
}
.total{ font-size:1.4rem; font-weight:700; }
.add-to-bag{
  background:var(--blue);
  color:#fff;
  border:none;
  padding:12px 22px;
  border-radius:999px;
  font-size:1.05rem;
  cursor:pointer;
}
.add-to-bag:hover{ background:#005bb5; }

/* Small screens */
@media (max-width:600px){
  .pill{ padding:14px; }
  .models{ padding:12px; }
  .configurator{ padding:12px; }
  .checkout{ flex-direction:column; align-items:stretch; text-align:center; }
  .add-to-bag{ width:100%; }
}
  </style>
</head>
<body>
  <header>
    <h1>Buy Boiby Studio</h1>
  </header>

  <div class="models" id="models">
    <div class="card" data-model="B6 Ultra">
      <h2>Boiby Studio - B6 Ultra</h2>
      <p class="price">From A$6999</p>
      <ul>
        <li>Boiby B6 Extreme with 48-core CPU</li>
        <li>64 GB DDR5-5600 ECC unified memory</li>
        <li>Boiby G6 Pro 64-core GPU with 32 GB GDDR6</li>
        <li>2 TB SSD storage</li>
        <li>10 Gbit Ethernet</li>
      </ul>
    </div>
  </div>

  <div class="configurator" id="configurator" style="display:none;">
    <button class="back-btn" id="backBtn">← Back</button>

    <div class="hero">
      <h2 class="hero-title" id="heroTitle"></h2>
      <ul class="hero-list" id="heroList"></ul>
    </div>

    <div id="options"></div>

    <div class="checkout">
      <div class="total" id="finalPrice"></div>
      <button class="add-to-bag">Add to Bag</button>
    </div>
  </div>

  <div class="confirmation" id="confirmation" style="display:none;">
    <div class="confirmation-image">
      <img src="studio-placeholder.png" alt="Boiby Studio">
    </div>
    <h2 class="confirmation-title">Order Placed!</h2>
    <p class="confirmation-model" id="confirmationModel"></p>
    <div class="confirmation-details">
      <ul class="confirmation-list" id="confirmationList"></ul>
      <p class="confirmation-total" id="confirmationTotal"></p>
    </div>
  </div>


<script>
const baseConfigs = {
  "B6 Ultra": {
    price: 7999,
    name: "Boiby Studio B6 Ultra",
    upgrades: {
      chip: [
        "Boiby B6 Extreme 56-core CPU (40 performance + 16 efficiency) (base)",
        "Boiby B6 Extreme 72-core CPU (56 performance + 16 efficiency) (+A$2000)",
        "Boiby B6 Alpha 112-core CPU (80 performance + 32 efficiency) (+A$6000)",
        "Boiby B6 Alpha 144-core CPU (112 performance + 32 efficiency) (+A$10000)"
      ],
      memory: [
        "64 GB DDR5-5600 ECC memory [4 x 16 GB] (base)",
        "96 GB DDR5-5600 ECC memory [6 x 16 GB] (+A$400)",
        "128 GB DDR5-5600 ECC memory [4 x 32 GB] (+A$800)",
        "192 GB DDR5-5600 ECC memory [6 x 32 GB] (+A$1600)",
        "384 GB DDR5-5600 ECC memory [6 x 64 GB] (+A$4000)",
        "768 GB DDR5-5600 ECC memory [6 x 128 GB] (+A$8800)",
        "1.5 TB DDR5-5600 ECC memory [12 x 128 GB] (+A$18400)"
      ],
      storage_main: [
        "2 TB PCIe Gen 5 SSD storage (base)",
        "4 TB PCIe Gen 5 SSD storage (+A$300)",
        "8 TB PCIe Gen 5 SSD storage (+A$900)",
        "16 TB PCIe Gen 5 SSD storage (+A$2100)"
      ],
      storage_secondary: [
        "No secondary storage (base)",
        "4 TB PCIe Gen 5 SSD storage (+A$600)",
        "8 TB PCIe Gen 5 SSD storage (+A$1200)",
        "16 TB PCIe Gen 5 SSD storage (+A$2400)",
        "24 TB PCIe Gen 5 SSD storage (+A$3600)",
        "32 TB PCIe Gen 5 SSD storage (+A$4800)"
      ],
      graphics: [
        "AMD Radeon Pro W7500 GPU with 8 GB GDDR6 (base)",
        "Boiby G6 Ultra 64-core GPU with 24 GB GDDR7 (+A$1500)",
        "Boiby G6 Extreme 128-core GPU with 48 GB GDDR7 (+A$6000)",
        "Boiby G6 Alpha 224-core GPU with 128 GB GDDR7 (+A$18000)",
        "Boiby G6 Alpha Duo 448-core GPU with 256 GB GDDR7 (+A$36000)",
      ],
      encode: [
        "No encoding accelerator (base)",
        "Boiby Afterburner (+A$2500)"
      ],
      ethernet: [
        "2x 10 Gbit Ethernet (base)",
        "4x 10 Gbit Ethernet (+A$600)",
        "4x 25 Gbit Ethernet (+A$2500)"
      ]
    }
  }
};

const addons = {
  mouse: ["Boiby Pro Mouse (+A$50)"],
  keyboard: [
    "Boiby Pro Keyboard (+A$150)",
    "Boiby Pro Keyboard with Number Pad (+A$200)"
  ]
};

let selectedModel = null;
let selectedOptions = {};

const cleanLabel = opt => opt.split("(")[0].trim();
const rightPrice = opt => {
  const m = opt.match(/\+A\$\d+/);
  return m ? m[0].replace("+", "+ ") : "";
};

document.querySelectorAll(".card").forEach(card => {
  card.addEventListener("click", () => {
    selectedModel = card.getAttribute("data-model");
    document.getElementById("models").style.display = "none";
    showConfigurator();
  });
});

document.getElementById("backBtn").addEventListener("click", () => {
  document.getElementById("configurator").style.display = "none";
  document.getElementById("models").style.display = "flex";
});

function showConfigurator() {
  const config = baseConfigs[selectedModel];
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  selectedOptions = {};
  document.getElementById(
    "heroTitle"
  ).innerText = `Customise your Boiby Studio — ${selectedModel}`;

  for (let category in config.upgrades) {
    const group = document.createElement("div");
    group.className = "group";
    const h3 = document.createElement("h3");
    h3.innerText = category.charAt(0).toUpperCase() + category.slice(1);
    group.appendChild(h3);

    config.upgrades[category].forEach((opt, idx) => {
      const pill = document.createElement("div");
      pill.className = "pill";
      pill.innerHTML = `<span class="label">${cleanLabel(
        opt
      )}</span><span class="price-right">${rightPrice(opt)}</span>`;

      // Disable options based on dependencies
      if (category === "memory") {
        if (opt.includes("1.5 TB")) pill.classList.add("disabled");
        if (opt.includes("64 GB") || opt.includes("96 GB"))
          pill.classList.add("disabled");
      } else if (category === "storage_secondary") {
        if (opt.includes("24 TB") || opt.includes("32 TB"))
          pill.classList.add("disabled");
      } else if (category === "graphics") {
        if (opt.includes("Alpha Duo")) pill.classList.add("disabled");
      }

      pill.addEventListener("click", () => {
        if (pill.classList.contains("disabled")) return;

        group.querySelectorAll(".pill").forEach(p => p.classList.remove("selected"));
        pill.classList.add("selected");
        selectedOptions[category] = opt;

        // Handle enabling/disabling based on CPU choice
        if (category === "chip") {
          const chip = opt;

          const memGroup = optionsDiv.querySelector(
            ".group h3:contains('Memory')"
          )?.parentElement;
          const storageGroup = optionsDiv.querySelector(
            ".group h3:contains('Storage_secondary')"
          )?.parentElement;
          const gpuGroup = optionsDiv.querySelector(
            ".group h3:contains('Graphics')"
          )?.parentElement;

          // Enable rules for B6 Alpha CPUs
          const alphaCPU = chip.includes("B6 Alpha");
          const ultraCPU = chip.includes("B6 Extreme");

          optionsDiv.querySelectorAll(".pill.disabled").forEach(p => {
            p.classList.remove("disabled");
          });

          optionsDiv.querySelectorAll(".group").forEach(g => {
            g.querySelectorAll(".pill").forEach(p => {
              const text = p.textContent;
              if (g.querySelector("h3").textContent === "Memory") {
                if (!alphaCPU && text.includes("1.5 TB")) p.classList.add("disabled");
                if (!ultraCPU && text.includes("64 GB")) p.classList.add("disabled");
                if (!ultraCPU && text.includes("96 GB")) p.classList.add("disabled");
              }
              if (g.querySelector("h3").textContent === "Storage_secondary") {
                if (!alphaCPU && (text.includes("24 TB") || text.includes("32 TB")))
                  p.classList.add("disabled");
              }
              if (g.querySelector("h3").textContent === "Graphics") {
                if (!alphaCPU && text.includes("Alpha Duo"))
                  p.classList.add("disabled");
              }
            });
          });
        }

        renderHeroSummary();
        updatePrice();
      });

      if (idx === 0 && !pill.classList.contains("disabled")) {
        pill.classList.add("selected");
        selectedOptions[category] = opt;
      }

      group.appendChild(pill);
    });

    // Dependency notes
    if (category === "memory") {
      const note = document.createElement("div");
      note.className = "note";
      note.innerText =
        "1.5TB memory only available on B6 Alpha CPUs. 64GB/96GB only available on B6 Ultra CPUs.";
      group.appendChild(note);
    }
    if (category === "storage_secondary") {
      const note = document.createElement("div");
      note.className = "note";
      note.innerText =
        "24TB and 32TB secondary SSD options only available on B6 Alpha CPUs.";
      group.appendChild(note);
    }
    if (category === "graphics") {
      const note = document.createElement("div");
      note.className = "note";
      note.innerText =
        "Boiby G6 Alpha Duo GPUs only available on B6 Alpha CPUs.";
      group.appendChild(note);
    }

    optionsDiv.appendChild(group);
  }

  // Add-ons
  const addonsGroup = document.createElement("div");
  addonsGroup.className = "group";
  const addonsTitle = document.createElement("h3");
  addonsTitle.innerText = "Add-ons";
  addonsGroup.appendChild(addonsTitle);

  for (let sub in addons) {
    const subTitle = document.createElement("h4");
    subTitle.innerText = sub.charAt(0).toUpperCase() + sub.slice(1);
    addonsGroup.appendChild(subTitle);

    addons[sub].forEach(opt => {
      const pill = document.createElement("div");
      pill.className = "pill";
      pill.innerHTML = `<span class="label">${cleanLabel(
        opt
      )}</span><span class="price-right">${rightPrice(opt)}</span>`;
      pill.addEventListener("click", () => {
        pill.classList.toggle("selected");
        if (!selectedOptions.addons) selectedOptions.addons = [];
        if (pill.classList.contains("selected")) {
          selectedOptions.addons.push(opt);
        } else {
          selectedOptions.addons = selectedOptions.addons.filter(a => a !== opt);
        }
        renderHeroSummary();
        updatePrice();
      });
      addonsGroup.appendChild(pill);
    });
  }

  optionsDiv.appendChild(addonsGroup);
  document.getElementById("configurator").style.display = "block";

  renderHeroSummary();
  updatePrice();
}

function renderHeroSummary() {
  const list = document.getElementById("heroList");
  list.innerHTML = "";
  for (let category in selectedOptions) {
    if (Array.isArray(selectedOptions[category])) {
      selectedOptions[category].forEach(opt => list.appendChild(li(cleanLabel(opt))));
    } else {
      list.appendChild(li(cleanLabel(selectedOptions[category])));
    }
  }
}

function updatePrice() {
  let price = baseConfigs[selectedModel].price;
  for (let category in selectedOptions) {
    const val = selectedOptions[category];
    if (Array.isArray(val)) {
      val.forEach(opt => {
        const match = opt.match(/\+A\$(\d+)/);
        if (match) price += parseInt(match[1], 10);
      });
    } else {
      const match = val.match(/\+A\$(\d+)/);
      if (match) price += parseInt(match[1], 10);
    }
  }
  document.getElementById("finalPrice").innerText = `Total: A$${price}`;
}

function li(text) {
  const el = document.createElement("li");
  el.textContent = text;
  return el;
}

document.querySelector(".add-to-bag").addEventListener("click", () => {
  document.getElementById("configurator").style.display = "none";
  document.getElementById("confirmation").style.display = "block";
  document.getElementById("confirmationModel").innerText = selectedModel;
  const list = document.getElementById("confirmationList");
  list.innerHTML = "";
  for (let category in selectedOptions) {
    if (Array.isArray(selectedOptions[category])) {
      selectedOptions[category].forEach(opt => list.appendChild(li(cleanLabel(opt))));
    } else {
      list.appendChild(li(cleanLabel(selectedOptions[category])));
    }
  }
  document.getElementById("confirmationTotal").innerText =
    document.getElementById("finalPrice").innerText;
});
</script>
</body>
</html>

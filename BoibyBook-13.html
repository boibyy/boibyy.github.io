<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BoibyBook 13</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="bouncy.css">

    <script src="modal.js"></script>
    <script src="theme.js"></script>
    <script src="nav.js"></script>

    <style>
        /* === Layout === */
        .configurator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
            align-items: start;
        }

        @media (max-width: 960px) {
            .configurator {
                grid-template-columns: 1fr;
            }
        }

        .product-image {
            width: 100%;
            max-width: 600px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
        }

        .config-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            height: 70vh;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        /* === Option groups === */
        .option-group h4 {
            margin: 0 0 6px 0;
            font-size: 20px;
            font-weight: 600;
            color: var(--text);
        }

        .option-row label {
            border: 1px solid rgba(0,0,0,0.6);
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            border-radius: 8px;
            cursor: pointer;
            user-select: none;
            background: transparent;
            transition: border-color 0.12s ease, background 0.12s ease;
            font-size: 17px;
            color: var(--text);
        }

        .option-row label.selected {
            border: 2px solid #00b45a;
            background: rgba(0,180,90,0.08);
        }

        body.dark .option-row label {
            border: 1px solid rgba(255,255,255,0.6);
        }

        .option-row input[type="radio"],
        .option-row input[type="checkbox"] {
            position: absolute !important;
            opacity: 0 !important;
            width: 0 !important;
            height: 0 !important;
        }

        .price-badge {
            margin-left: auto;
            font-weight: 600;
            font-size: 14px;
            padding: 3px 6px;
            border-radius: 6px;
            background: transparent;
            color: var(--text);
        }

        .small-note {
            font-size: 13px;
            color: var(--secondary-text);
            margin-top: 8px;
        }

        /* === Summary sticky at bottom === */
        .summary {
            position: sticky;
            bottom: 0;
            background: var(--background);
            padding: 0.75rem 0;
            border-top: 1px dashed rgba(255,255,255,0.1);
            margin-top: 1rem;
        }

        .summary-line {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 15px;
        }

        .summary-line.total {
            border-top: 1px solid rgba(255,255,255,0.2);
            font-size: 20px;
            font-weight: 700;
            padding-top: 10px;
        }

        button.primary-green {
            background-color: #00b45a;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 10px 16px;
            font-size: 16px;
            cursor: pointer;
        }

        button.primary-green:hover {
            background-color: #00c868;
        }

        button.secondary {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.4);
            border-radius: 8px;
            color: var(--text);
            padding: 10px 16px;
            font-size: 16px;
            cursor: pointer;
        }

        .coming-soon {
            opacity: 0.4;
            pointer-events: none;
        }
    </style>
</head>

<body class="dark">
    <header>
        <img src="boiby.png" class="favicon" alt="Boiby">
        <a href="#" class="hamburger">☰</a>
        <nav>
            <a href="/index" class="link active">Home</a>
            <a href="/about" class="link">About</a>
            <a href="/projects" class="link">Projects</a>
            <a href="/extras" class="link">Extras</a>
            <a href="/contact" class="link">Contact</a>
        </nav>
        <button id="theme-toggle" class="secondary" onclick="toggleTheme()">Switch to Light Mode</button>
    </header>

    <main>
        <section class="configurator" aria-labelledby="config-title">
            <!-- Left: Product image -->
            <div class="product-image" id="product-image">
                <img src="BB13Dark.png" alt="BoibyBook 13 Dark Grey" id="main-image">
            </div>

            <!-- Right: Options -->
            <div class="config-panel">
                <h2 id="config-title">BoibyBook 13</h2>
                <p>13.7-inch ultra-portable performance laptop with AMD Ryzen AI processors.</p>

                <!-- Colour -->
                <div class="option-group" id="opt-colour">
                    <h4>Colour</h4>
                    <div class="option-row">
                        <label class="selected">
                            <input type="radio" name="colour" value="dark">
                            <span>Dark Grey</span>
                        </label>
                        <label>
                            <input type="radio" name="colour" value="silver">
                            <span>Silver</span>
                        </label>
                    </div>
                </div>

                <!-- Display -->
                <div class="option-group" id="opt-display">
                    <h4>Display</h4>
                    <div class="option-row">
                        <label class="selected">
                            <input type="radio" name="display" value="23k">
                            <span>2.3K IPS display – 2304×1536 120Hz (13.7-inch)</span>
                        </label>
                        <label>
                            <input type="radio" name="display" value="28koled">
                            <span>2.8K OLED display – 2880×1920 120Hz (13.7-inch)</span>
                            <span class="price-badge">+A$300</span>
                        </label>
                    </div>
                </div>

                <!-- CPU -->
                <div class="option-group" id="opt-cpu">
                    <h4>Processor</h4>
                    <div class="option-row">
                        <label class="selected">
                            <input type="radio" name="cpu" value="ai5">
                            <span>AMD Ryzen AI 5 340 (6 cores) – Radeon 840M graphics</span>
                        </label>
                        <label>
                            <input type="radio" name="cpu" value="ai7">
                            <span>AMD Ryzen AI 7 350 (8 cores) – Radeon 860M graphics</span>
                            <span class="price-badge">+A$250</span>
                        </label>
                        <label>
                            <input type="radio" name="cpu" value="ai9">
                            <span>AMD Ryzen AI 9 365 (10 cores) – Radeon 880M graphics</span>
                            <span class="price-badge">+A$500</span>
                        </label>
                        <label class="coming-soon">
                            <input type="radio" disabled name="cpu" value="ai9hx">
                            <span>AMD Ryzen AI 9 HX 370 (12 cores) – Radeon 890M graphics (coming soon)</span>
                        </label>
                    </div>
                </div>

                <!-- RAM -->
                <div class="option-group" id="opt-ram">
                    <h4>Memory (RAM)</h4>
                    <div class="option-row">
                        <label class="selected">
                            <input type="radio" name="ram" value="16">
                            <span>16 GB (2×8 GB) DDR5-5600 SODIMM</span>
                        </label>
                        <label>
                            <input type="radio" name="ram" value="32">
                            <span>32 GB (2×16 GB) DDR5-5600 SODIMM</span>
                            <span class="price-badge">+A$100</span>
                        </label>
                        <label>
                            <input type="radio" name="ram" value="48">
                            <span>48 GB (2×24 GB) DDR5-5600 SODIMM</span>
                            <span class="price-badge">+A$200</span>
                        </label>
                        <label>
                            <input type="radio" name="ram" value="64">
                            <span>64 GB (2×32 GB) DDR5-5600 SODIMM</span>
                            <span class="price-badge">+A$300</span>
                        </label>
                    </div>
                </div>

                <!-- SSD -->
                <div class="option-group" id="opt-ssd">
                    <h4>SSD Storage</h4>
                    <div class="option-row">
                        <label class="selected">
                            <input type="radio" name="ssd" value="512">
                            <span>512 GB SSD – PCIe Gen4 NVMe</span>
                        </label>
                        <label>
                            <input type="radio" name="ssd" value="1tb">
                            <span>1 TB SSD – PCIe Gen4 NVMe</span>
                            <span class="price-badge">+A$80</span>
                        </label>
                        <label>
                            <input type="radio" name="ssd" value="2tb">
                            <span>2 TB SSD – PCIe Gen4 NVMe</span>
                            <span class="price-badge">+A$160</span>
                        </label>
                        <label>
                            <input type="radio" name="ssd" value="4tb">
                            <span>4 TB SSD – PCIe Gen4 NVMe</span>
                            <span class="price-badge">+A$480</span>
                        </label>
                    </div>
                </div>

                <div class="small-note">
                    Ports: 2× USB-C (USB4 40Gbps), 2× USB-A (USB 3.1 10Gbps), HDMI 2.1, microSD slot, audio jack.<br>
                    64 Wh battery • Wi-Fi 6E • Bluetooth 5.3 • 1080p webcam with privacy shutter.
                </div>

                <!-- Summary -->
                <aside class="summary">
                    <div class="summary-line">
                        <div>Base price</div>
                        <div id="base-price">$1,349</div>
                    </div>
                    <div id="breakdown"><div class="summary-line">No upgrades selected</div></div>
                    <div class="summary-line total">
                        <div>Total</div>
                        <div id="total-price">$1,349</div>
                    </div>
                    <div style="margin-top:8px; display:flex; gap:0.5rem;">
                        <button id="add-to-cart" class="primary-green">Add to cart</button>
                        <button id="reset-config" class="secondary">Reset</button>
                    </div>
                </aside>
            </div>
        </section>
    </main>

    <footer>
        <hr>
        <p>© Boiby 2025</p>
    </footer>

    <script>
        (function () {
            const basePrice = 1349;
            const prices = {
                // Display
                '23k': 0,
                '28koled': 300,
                // CPU
                'ai5': 0,
                'ai7': 250,
                'ai9': 500,
                // RAM
                '16': 0,
                '32': 100,
                '48': 200,
                '64': 300,
                // SSD
                '512': 0,
                '1tb': 80,
                '2tb': 160,
                '4tb': 480
            };

            const defaults = {
                colour: 'dark',
                display: '23k',
                cpu: 'ai5',
                ram: '16',
                ssd: '512'
            };

            const basePriceEl = document.getElementById('base-price');
            const totalPriceEl = document.getElementById('total-price');
            const breakdownEl = document.getElementById('breakdown');
            const imgEl = document.getElementById('main-image');

            function fmt(aud) {
                return aud.toLocaleString('en-AU', { style: 'currency', currency: 'AUD', maximumFractionDigits: 0 });
            }

            function updateImage() {
                const color = document.querySelector('input[name="colour"]:checked').value;
                imgEl.src = color === 'silver' ? 'BB13-Silver.png' : 'BB13Dark.png';
            }

            function getConfig() {
                const config = {};
                ['colour', 'display', 'cpu', 'ram', 'ssd'].forEach(name => {
                    const el = document.querySelector(`input[name="${name}"]:checked`);
                    config[name] = el ? el.value : defaults[name];
                });
                return config;
            }

            function recalc() {
                const cfg = getConfig();
                let total = basePrice;
                const lines = [];

                for (const [k, v] of Object.entries(cfg)) {
                    const delta = prices[v] ?? 0;
                    if (delta !== 0) {
                        total += delta;
                        const label = document.querySelector(`[name="${k}"][value="${v}"]`)?.closest('label');
                        const desc = label ? label.textContent.trim() : v;
                        lines.push({ name: k, desc, price: delta });
                    }
                }

                breakdownEl.innerHTML = lines.length
                    ? lines.map(x => `<div class="summary-line"><div>${x.desc}</div><div>${fmt(x.price)}</div></div>`).join('')
                    : '<div class="summary-line">No upgrades selected</div>';

                totalPriceEl.textContent = fmt(total);
                updateImage();
            }

            document.querySelectorAll('.option-row input').forEach(i => {
                i.addEventListener('change', recalc);
            });

            document.getElementById('reset-config').addEventListener('click', () => {
                for (const [k, v] of Object.entries(defaults)) {
                    const el = document.querySelector(`[name="${k}"][value="${v}"]`);
                    if (el) el.checked = true;
                }
                recalc();
            });

            recalc();
        })();
    </script>
</body>
</html>
